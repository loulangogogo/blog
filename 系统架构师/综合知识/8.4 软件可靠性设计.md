## 软件可靠性设计

#### (一)、软件可靠性设计方法准则（简化设计、重用设计和健壮性设计）

- 软件可靠性设计师软件设计的一部分，必须再软件的总体设计框架中使用，并且不能与其他设计原则冲突。
- 软件可靠性设计再满足提高软件质量要求的前提下，以提高和保障软件可靠性为最终目标。
- 软件可靠性设计应确定软件的可靠性目标，不能无限扩大化，并且排在功能、用户需求和开发费用之后考虑。



### 一、容错设计技术

#### (一)、分类

- 信息容错
- 结构容错

#### (二)、方法

1. **恢复块设计**：程序的执行过程可以看成是由一系列操作构成的，这些操作又可由更小的操作构成。恢复块设计就是选择一组操作作为容错设计单元，从而把普通的程序块变成恢复块。被选择用来构造恢复块的程序块可以使模块、过程、子程序和程序段等。
2. **N版本程序设计**：N版本程序的核心是通过设计出多个模块或不同的版本，对于相同初始条件和相同输入的操作结果，实行多数表决，防止其中某一软件模块、版本故障提供错误的服务，以实现软件容错。
3. **冗余设计**：改善软件可靠性的一个重要技术是冗余设计。再硬件系统中，再主运行的系统之外备用额外的元件和系统，如果出现一个元件故障或者系统故障，则立即更换冗余的元件或切换到冗余的系统，则该硬件系统仍可以维持运行。



### 二、检错设计技术

#### (一)、检错设计技术的重点考虑要素

- **检测对象**：包含两个层次的含义，即监测点和检测内容。再设计时应该考虑把检测点放在容易出错的地方和出错对软件系统影响较大的地方；检测内容选取哪些有代表性的、易于判断的指标。
- **检测延时**：从软甲发生故障到被自检出来是有一定延时的，这段延时的长短对故障的处理事非常重要的。因此，再软件检错设计时要充分考虑检测延时。如果延时长到影响故障的及时报警，则需要更换检测对象或检测方式。
- **实现方式**：最直接的一种实现方式是判断返回结果，如果返回结果超出正常范围，则进行异常处理。
- **处理方式 **：大多数检错采用“查出故障——停止软件系统运行——报警”的处理方式，但也有采用不停止或部分停止软件系统运行的情况，这一般由关账是否需要实时处理来决定。

#### (二)、检错设计方法

- 简单原理
- 同型原理
- 对称原理
- 层次原理
- 安全原理



### 三、降低复杂度设计

#### (一)、软件的复杂性与可靠性关系

> 软件复杂性常分为模块复杂性和结构复杂性。模块复杂性主要包含模块内部数据流向和程序长度两个方面，结构复杂性用不同模块之间的关联程度来表示。
>
> 软件的复杂性与软件的可靠性有密切的联系，当软件的复杂度超过一定的界限时，软件缺陷数会急剧上升，软件的可靠性急剧下降。因此，再设计时就应考虑降低软件的复杂性，使之处于一个合理的阈值之内，这就是提高软件可靠性的有效方法。

#### (二)、故障树分析（FTA）、时效模式与效应分析（FMEA）方法的应用

> 降低复杂度设计的思想就是在保证实现软件功能的基础上，简化软件结构，缩短程序代码 长度，优化软件数据流向，降低软件复杂度，从而提高软件可靠性。
>
> 除了容错设计、检错设计和降低复杂度设计技术外，人们尝试着把硬件可靠性设计中比较 成熟的技术，如故障树分析 (FTA)、 失效模式与效应分析 (FMEA) 等运用到软件可靠性设计 领域，这些技术大多是运用一些分析、预测技术，在软件设计时就充分考虑影响软件可靠性的 因素，并采取一些措施进行优化。由于软件与硬件内部性质的巨大差异，这些技术在软件可靠性设计领域的应用效果和范围极其有限。

### 四、系统配置技术

#### (一)、双机热备技术

双机热备方案中，根据两台服务器的工作方式可以有3种不同的工作模式，即:双机热备模式、双机互备模式和双机双工模式。

- **双机热备模式**: 即通常所说的 Active/Standby方式， Active 服务器处于工作状态;而 Standby服务器处于监控准备状态，服务器数据包括数据库数据同时往两台或多台服务器写入 (通常各服务器采用 R A I D 磁盘阵列卡),保证数据的即时同步。当 Active 服务器出现故障的时 候，通过软件诊测或手工方式将 Standby 机器激活，保证应用在短时间内完全恢复正常使用。 这是目前采用较多的一种模式，但由于另外一台服务器长期处于后备的状态，就存在一定的计 算资源浪费。
- **双机互备模式**: 是两个相对独立的应用在两台机器同时运行，但彼此均设为备机，当 某一台服务器出现故障时，另一台服务器可以在短时间内将故障服务器的应用接管过来，从而 保证了应用的持续性，但对服务器的性能要求比较高
- **双机双工模式**是集群的一种形式，两台服务器均处于活动状态，同时运行相同的应用，以保证整体系统的性能，也实现了负载均衡和互为备份，通常使用磁盘柜存储技术。 W e b服务 器或F T P服务器等用此种方式比较多。

#### (二)、服务器集群技术

> 集群技术是指一组相互独立的服务器在网络中组合成为单一的系统工作，并以单一系统的 模式加以管理。此单一系统为客户工作站提供高可靠性的服务。大多数情况下，集群中所有的 计算机拥有一个共同的名称，集群内任一系统上运行的服务可被所有的网络客户所使用。
>
> 集群必须可以协调管理分离的构件出现的错误和故障，并可透明地向集群中加入构件。一 个集群包含多台服务器。每台服务器的操作系统和应用程序文件存储在其各自的本地储存空 间上。
>
> 集群内各结点服务器通过内部局域网相互通信，当某结点服务器发生故障时，这台服务器 上所运行的应用程序将在另一结点服务器上被自动接管。当一个应用服务发生故障时，应用服 务将被重新启动或被另一台服务器接管。当以上的任一故障发生时，客户都将能很快连接到其 他应用服务器上