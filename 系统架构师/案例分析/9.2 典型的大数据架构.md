## 典型的大数据架构

### 一、Lambada 架构

#### (一)、Lambda的来源、定义、应用场景和优缺点

**1. 来源定义**

> Lambda 机构有 Storm 的作者 Nathan Marz 提出，其设计的目的在于提供一个能满足大数据系统关键特性的架构，包括高容错、低延迟、可扩展等。其整合离线计算与实时计算，融合不可变性、读写分离和复杂性隔离等原则，可集成 Hadoop、Kafaka、Spark、Storm 等各类大数据组件。Lambda 是用于同时处理离线和实时数据的，可容错的，可扩展的分布式系统。他具备强鲁棒性，提供低延迟和持续更新。

**2. 应用场景**

> - 机器学习中的 Lambda 架构。
> - 物联网的 Lambda 架构
> - 刘处理的 Lambda 架构挑战

**3. 优缺点**

> 1. **优点**
>    - 容错性好
>    - 查询灵活度高
>    - 易伸缩
>    - 易扩展
> 2. **缺点**
>    - 全场景覆盖带来的编码开销
>    - 针对具体场景重新离线训练一遍益处不大
>    - 重新部署和迁移成本高

#### (二)、Lambda 的体系结构

![](../.images/202502/081021.png)

1. **批处理层（Batch Layer）**：存储数据集，Batch Layer 在数据集上预先计算查询函数，并构建查询所对应的 View。Batch Layer 可以很好的处理离线数据，但有很多的场景数据不断实时生成且需要实时查询处理，对于这种情况，Speed layer 更为合适。

   > Batch Layer 有两个核心功能：存储数据集和生成 Batch View。
   >
   > 改成负责管理主数据集。主数据集中的数据必须具备一下三个属性。
   >
   > - 数据是原始的
   > - 数据是不可变的
   > - 数据永远是真实的

2. **加速层（Speed Layer）**：Batch Layer 处理的事全体数据集，而 Speed Layer 处理的事最近的增量数据流。Speed Layer 为了效率，在接受到新的数据后会不断更新 Peal-tineView，而 Batch Layer 是更具全体离线数据集直接得到的 Batch View。

3. **服务层（Serving Layer）**：Serving Layer 用于合并 Batch Layer 和 Peal-tineView 中的结果数据集到最终数据集。

   ![](../.images/202502/081022.png)

   

### 二、Kappa 架构

#### ( 一)、Kappa 的来源、定义、应用场景和优缺点

#### (二)、Kappa 的体系结构

#### (三)、常见Kappa 架构的变形架构

