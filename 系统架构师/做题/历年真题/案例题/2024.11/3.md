# 试题三（25 分）。

某互联网公司开发的一款社交软件，随着用户数量的不断增长和业务需求的变化，软件架构需要不断地进行演化。该软件最初采用了单体架构，所有的功能模块都集成在一个应用程序中。随着用户量的急剧增加，单体架构的性能和可维护性问题日益突出。

为了应对这些问题，公司决定对软件架构进行演化，采用微服务架构。在微服务架构的转型过程中，公司面临着诸多挑战，例如服务间的通信、服务的部署与管理、数据一致性等问题。

### 问题 1（8 分）。

请简要说明单体架构和微服务架构的特点，并分析该社交软件从单体架构向微服务架构演化的原因。

> [!TIP]
>
> - **单体架构的特点**：所有功能集成在一个应用程序中，开发简单，部署方便，当可维护性和扩展性差，性能瓶颈明显。
> - **微服务架构的特点**：将系统拆分为多个小型服务，每个服务独立开发、部署和维护，可扩展性强，灵活性高，当服务间通信和管理复杂。
> - **演化原因**：用户量增长导致单体架构性能和可维护新问题突出，微服务架构能更好应对这些问题，提高系统的可扩展性和灵活性。

### 问题 2（9 分）。

在微服务架构中，服务间的通信是一个关键问题。请列举三种常见的服务间通信方式，并分析每种方式的优缺点。

> [!tip]
>
> - **RESTful API**：有点简单、通用，易于理解和实现；缺点是性能相对较低，不实用于高并发场景。
> - **RPC**：有点是性能高，调用效率快；缺点耦合度高，不同语言间的兼容性可能存在问题。
> - **消息队列**：有点事异步通信，解耦性强，可提高系统的吞吐量；缺点是存在一点的延迟，数据一致性保证相对复杂。

### 问题 3（8 分）。

针对微服务架构转型过程中面临的数据一致性问题，请提出两种解决方案，并简要说明每种方案的适用场景。

> [!Tip]
>
> - 分布式事务：适用于对数据一致性要求极高，业务操作涉及多个服务的场景。通过分布式事务框架保证数据的一致性。
> - 最终一致性：适用于对数据一致性要求不是非常严格，允许一定时间内数据不一致的场景。通过异步补偿等机制最终实现数据一致。