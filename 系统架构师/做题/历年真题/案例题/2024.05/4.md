# 试题四

在分布式系统中，由于多个节点同时操作共享资源，容易产生竞争条件和资源冲突问题。为了保证数据一致性和系统的稳定性，需要一种有效的分布式锁机制来协调各个节点对共享资源的访问。为了简化分布式锁的实现并提高性能，张工提出了一种利用数据主键索引的方法来实现分布式锁。该方法的核心思想是利用数据的唯一性约束和事物特性，通过对特定记录的插入和删除操作来实现锁的获取和释放。



### 问题1

基于MySQL实现分布式锁的特点

> [!tip]
>
> 1. 性能瓶颈：Mysql数据本身能称为性能瓶颈，特别是高并发的场景下，大量的锁清秋和释放可能导致数据库性能的下降。
> 2. 单点故障：Mysql点点的特性使得其称为系统的单点故障，如果数据库出现故障，将导致整个系统的分布式锁失效。
> 3. 锁粒度问题：Mysql的锁粒度可能过大或者过小，过大的锁粒度回导致并发性能的降低，而过小的锁粒度可能回增加锁冲突的概率，影响系统的并发性能。
> 4. 数据一致性问题：分布式系统中，不同的数据库节点之间的数据同步可能存在延迟或者不体制的情况，者可能导致分布式锁的有效性收到影响。
> 5. 扩展性差：随着系统规模的扩大，单个Mysql数据库可能无法满足系统的性能和容量需求，需要进行垂直或水平扩展，这回增加系统的复杂性和成本。
> 6. 容错性差：Mysql数据库本身的容错性可能不如专门设计的分布式锁方案，因此在面对网络分区或者其他故障时可能无法提供可靠的锁服务。

### 问题2

举一个常胜Redis分布式锁死锁的场景

> 互相等待锁，但是又不释放自己的锁

### 问题3

根据描述在括号中填入对应的zset指令，存入秒杀的分数命令，获取分数范围的命令（），获取分数（）

> [!tip]
>
> ZADD
>
> ZRANE
>
> ZSCORE