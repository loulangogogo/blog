## 基于构件的软件工程

#### (一)、CBSE 的定义、作用和特点

> 基于构件的软件工程（CBSE）是一种基于分布对象技术、强调通过可复用构件设计与构造软件系统的软件复用途径。基于构件的软件系统中的构件可以是 COTS 构件，也可以是通过其他途径获得的构件（如自行开发）。 CBSE 体现了“购买而不是重新构造”的哲学，将软件开发的重点从程序编写转移到了基于已有构件的组装，以更快的构造系统，减轻用来支持和升级大型系统所需的维护负担，从而降低软件的开发费用。



### 一、构件和构件模型

#### (一)、CBSE的构件应该具备的特征

- 可组装型
- 可部署性
- 文档化
- 独立性
- 标准化

#### (二)、构件模型的基本要素（接口、使用信息和部署）

- **接口**：构件通过构件接口来定义，构件模型规定应如何定义构件接口以及在接口定义中应该包含的要素，如操作名，参数等以及异常等。
- **使用信息**：为构件远程分布和访问，必须给构件一个特定的、全局唯一的名字或句柄。
- **部署**：构件模型包括一个规格说明，指出应该如何打包构件使其部署成为一个独立的可执行体。



### 二、CBSE 过程

#### (一)、主要活动

- 系统需求概览
- 识别候选构件
- 根据发现的构件修改需求
- 体系结构设计
- 构件定制与适配
- 组装构件，创建系统



### 三、构件组装

#### (一)、方法：顺序组装、层次组装和叠加组装

1. **顺序组装**

   > 通过按顺序调用已经存在的构件，可以用两个已经存在的构件来创造一个新的构件。顺序组装的类型可能适用于作为程序元素的构件或是作为服务的构件。需要特定的胶水代码，来保证两个构件的组装：上一个构件的输出，与下一个构件的输入相兼容。

2. **层次组装**

   > 这种情况发生在一个构件直接调用另一个构件所提供的服务时。被调用的构件为调用构件提供所需的服务。因此，被调用构件的“提供”接口必须和调用构件的“请求”接口兼容。如果接口相匹配，则调用构件可以直接调用被调用的构件，否则就需要编写专门的胶水代码来实现转换。

3. **叠加组装**

   > 这种情况发生在两个或两个以上构件放在一起来创建一个新构件的时候。这个新构件合并原构件的功能，从而对外提供了新的接口。外部应用可以通过新的接口调用原有构件的接口，而原有构件从不互相依赖，也不互相调用。这种组装类型适合于构件时程序单元或者构件是服务的情况。

#### (二)、构件组装的3种不兼容

- **参数不兼容**：接口每一侧的操作有相同的名字，但是参数类型或者参数个数不相同。
- **操作不兼容**：提供接口和请求接口的操作名不同。
- **操作不完备**：一个构件提供接口是另一个构件请求接口的一个子集，或者相反。